<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>T√≠nh & Ph√¢n lo·∫°i LDLc - M√°y t√≠nh y h·ªçc</title>
    <!-- Th√™m Favicon -->
    <link rel="icon" href="https://raw.githubusercontent.com/maytinhyhoc/trang-chu/main/logo.png" type="image/png">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/maytinhyhoc/trang-chu/main/logo.png">
    <link rel="manifest" href="manifest.json">
    <!-- T·∫£i Tailwind CSS t·ª´ CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <style>
        /* --- Styles Global --- */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            padding-top: 80px; /* M·∫∑c ƒë·ªãnh cho Desktop */
            -webkit-tap-highlight-color: transparent;
        }
        
        /* Responsive tweaks */
        @media (max-width: 767px) {
            body { 
                padding-top: 0px; /* Header ·∫©n tr√™n mobile */
                padding-bottom: 80px; /* Ch·ª´a ch·ªó cho Bottom Nav */
            }
        }

        /* Custom style for the active/highlighted navigation link (Desktop) */
        .nav-item-highlight {
            background-color: #eef2ff;
            border-radius: 9999px;
            padding: 4px 12px;
            color: #4f46e5;
            font-weight: 500;
        }

        /* Styles cho Bottom Navigation */
        .bottom-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 8px 4px;
            color: #6b7280; /* gray-500 */
            transition: color 0.2s;
        }
        .bottom-nav-item.active {
            color: #4f46e5; /* indigo-600 */
        }
        .bottom-nav-item svg {
            width: 24px;
            height: 24px;
            margin-bottom: 2px;
        }
        .bottom-nav-item span {
            font-size: 10px;
            font-weight: 500;
        }

        .score-box {
            background-color: #eef2ff;
            color: #4f46e5;
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            font-size: 2.25rem;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            text-align: center;
            border: 1px solid #c7d2fe;
        }
        .result-text {
            font-size: 1.125rem;
            font-weight: 600;
        }
        
        /* ·∫®n m≈©i t√™n input number */
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }

        /* Custom Radio Button Styling */
        input[type="radio"] {
            accent-color: #4f46e5;
            width: 1.1rem;
            height: 1.1rem;
        }
    </style>
</head>
<body class="text-gray-800 flex flex-col min-h-screen">

    <!-- === DESKTOP HEADER (·∫®n tr√™n Mobile) === -->
    <header class="hidden md:block bg-white shadow-sm py-3 fixed top-0 w-full z-50">
        <div class="container mx-auto px-4 header-content flex items-center justify-between">
            <!-- Logo -->
            <div class="flex items-center flex-shrink-0 w-auto">
                <a href="index.html" class="logo-text text-3xl font-bold text-indigo-700 rounded-lg transition duration-300 hover:text-indigo-900">
                    M√°y t√≠nh y h·ªçc
                </a>
            </div>

            <!-- Navigation Menu -->
            <nav class="nav-menu flex space-x-4">
                <a href="index.html" class="flex-shrink-0 text-base font-medium text-gray-700 hover:text-indigo-600 transition duration-300 px-3 py-1 rounded-full hover:bg-gray-100">Trang Ch·ªß</a>
                <a href="cong-cu.html" class="flex-shrink-0 text-base font-medium text-gray-700 hover:text-indigo-600 transition duration-300 nav-item-highlight">C√¥ng C·ª•</a>
                <a href="gioi-thieu.html" class="flex-shrink-0 text-base font-medium text-gray-700 hover:text-indigo-600 transition duration-300 px-3 py-1 rounded-full hover:bg-gray-100">Gi·ªõi thi·ªáu</a>
                <a href="#lien-he" class="flex-shrink-0 text-base font-medium text-gray-700 hover:text-indigo-600 transition duration-300 px-3 py-1 rounded-full hover:bg-gray-100">Li√™n H·ªá</a>
            </nav>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-4 md:py-8">
        
        <!-- Back Button & Title -->
        <div class="flex items-center justify-between mb-4 md:mb-6 pt-4 md:pt-0">
            <!-- N√∫t quay l·∫°i (Ch·ªâ hi·ªán Icon) -->
            <a href="cong-cu.html" class="flex-shrink-0 inline-flex items-center justify-center w-10 h-10 bg-white border border-gray-200 rounded-full text-indigo-600 hover:bg-indigo-50 hover:border-indigo-200 transition duration-300 shadow-sm">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </a>

            <!-- Ti√™u ƒë·ªÅ (CƒÉn gi·ªØa) -->
            <h1 class="text-xl md:text-3xl font-bold text-center text-gray-800 flex-grow px-2">
                Ph√¢n Lo·∫°i Nguy C∆° & LDLc
            </h1>

            <!-- Spacer ·∫£o ƒë·ªÉ c√¢n b·∫±ng layout (CƒÉn gi·ªØa ho√†n h·∫£o) -->
            <div class="w-10 h-10 flex-shrink-0"></div>
        </div>

        <!-- Main Content Box -->
        <div class="mt-2 md:mt-8 bg-white rounded-lg shadow-lg p-3 md:p-8 max-w-4xl mx-auto">
            
            <div class="bg-gray-50 p-4 sm:p-6 md:p-8 rounded-xl border border-gray-100">
                
                <!-- Toggle Buttons -->
                <div class="flex justify-center space-x-2 md:space-x-4 mb-6 bg-white p-1 rounded-full shadow-sm border border-gray-200 w-full md:w-auto mx-auto max-w-md">
                    <button id="direct-input-btn" type="button" class="flex-1 px-4 py-2 rounded-full font-semibold transition-all duration-300 text-sm md:text-base">
                        Nh·∫≠p LDLc
                    </button>
                    <button id="calculate-ldlc-btn" type="button" class="flex-1 px-4 py-2 rounded-full font-semibold transition-all duration-300 text-sm md:text-base">
                        T√≠nh LDLc
                    </button>
                </div>

                <!-- Form nh·∫≠p LDLc tr·ª±c ti·∫øp -->
                <form id="direct-ldlc-form" class="space-y-6">
                    <div class="input-group">
                        <label for="ldlc-direct" class="block text-sm font-bold text-gray-700 mb-2">
                            <i class="fa-solid fa-droplet mr-2 text-indigo-500"></i>Ch·ªâ s·ªë LDL Cholesterol
                        </label>
                        <div class="flex items-center gap-2">
                            <input type="number" id="ldlc-direct" name="ldlc-direct" min="0" step="0.01" placeholder="Nh·∫≠p gi√° tr·ªã" required
                                   class="flex-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm"
                                   inputmode="decimal">
                            <select id="ldlc-unit-direct" name="ldlc-unit-direct" class="w-24 px-2 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm bg-white text-sm">
                                <option value="mmol/L">mmol/L</option>
                                <option value="mg/dL">mg/dL</option>
                            </select>
                        </div>
                    </div>

                    <!-- Risk Stratification (Shared UI Component) -->
                    <div class="input-group bg-white p-4 rounded-lg border border-gray-200">
                        <label class="block text-sm font-bold text-gray-700 mb-3">
                            <i class="fa-solid fa-heart-pulse mr-2 text-red-500"></i>Ph√¢n t·∫ßng nguy c∆° tim m·∫°ch (ESC/EAS 2021)
                        </label>
                        
                        <div class="space-y-3">
                            <label class="flex items-start cursor-pointer p-2 hover:bg-gray-50 rounded border border-transparent hover:border-gray-200 transition">
                                <div class="flex items-center h-5">
                                    <input type="radio" id="risk-very-high" name="risk-category" value="very-high" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300" checked>
                                </div>
                                <div class="ml-3 text-sm">
                                    <span class="font-bold text-red-600 block">R·∫•t cao</span>
                                    <span class="text-gray-500 text-xs">ASCVD l√¢m s√†ng, ƒêTƒê t·ªïn th∆∞∆°ng ƒë√≠ch/3 y·∫øu t·ªë nguy c∆°, Suy th·∫≠n n·∫∑ng (eGFR &lt;30), SCORE &ge; 10%...</span>
                                </div>
                            </label>

                            <label class="flex items-start cursor-pointer p-2 hover:bg-gray-50 rounded border border-transparent hover:border-gray-200 transition">
                                <div class="flex items-center h-5">
                                    <input type="radio" id="risk-high" name="risk-category" value="high" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                                </div>
                                <div class="ml-3 text-sm">
                                    <span class="font-bold text-orange-500 block">Cao</span>
                                    <span class="text-gray-500 text-xs">TC &ge; 8 mmol/L, ƒêTƒê &ge; 10 nƒÉm, Suy th·∫≠n TB (eGFR 30-59), SCORE 5-9%...</span>
                                </div>
                            </label>

                            <label class="flex items-start cursor-pointer p-2 hover:bg-gray-50 rounded border border-transparent hover:border-gray-200 transition">
                                <div class="flex items-center h-5">
                                    <input type="radio" id="risk-moderate" name="risk-category" value="moderate" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                                </div>
                                <div class="ml-3 text-sm">
                                    <span class="font-bold text-yellow-600 block">Trung b√¨nh</span>
                                    <span class="text-gray-500 text-xs">ƒêTƒê tr·∫ª tu·ªïi (&lt;35 type 1, &lt;50 type 2), SCORE 1-4%.</span>
                                </div>
                            </label>

                            <label class="flex items-start cursor-pointer p-2 hover:bg-gray-50 rounded border border-transparent hover:border-gray-200 transition">
                                <div class="flex items-center h-5">
                                    <input type="radio" id="risk-low" name="risk-category" value="low" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                                </div>
                                <div class="ml-3 text-sm">
                                    <span class="font-bold text-green-600 block">Th·∫•p</span>
                                    <span class="text-gray-500 text-xs">SCORE &lt; 1%.</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="flex flex-col md:flex-row gap-4 pt-2">
                        <button type="submit" id="calculate-direct-btn" class="flex-1 bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 transform hover:-translate-y-0.5 hover:bg-indigo-700 flex items-center justify-center">
                            <i class="fa-solid fa-stethoscope mr-2"></i> Ph√¢n t√≠ch
                        </button>
                        <button type="button" id="clear-direct-btn" class="flex-1 bg-white text-red-500 border border-red-200 font-bold py-3 px-6 rounded-lg shadow-sm hover:shadow-md transition duration-300 hover:bg-red-50 flex items-center justify-center">
                            <i class="fa-solid fa-trash-can mr-2"></i> X√≥a
                        </button>
                    </div>
                </form>

                <!-- Form t√≠nh LDLc t·ª´ c√°c ch·ªâ s·ªë kh√°c -->
                <form id="calculate-ldlc-form" class="space-y-6 hidden">
                    
                    <div class="space-y-4">
                        <!-- Total Cholesterol (TC) -->
                        <div class="input-group">
                            <label for="tc-value" class="block text-sm font-medium text-gray-700 mb-1">To√†n ph·∫ßn (Total Cholesterol)</label>
                            <div class="flex items-center gap-2">
                                <input type="number" id="tc-value" name="tc-value" min="0" step="0.01" required
                                       class="flex-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm"
                                       inputmode="decimal">
                                <select id="tc-unit" name="tc-unit" class="w-24 px-2 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm bg-white text-sm">
                                    <option value="mmol/L">mmol/L</option>
                                    <option value="mg/dL">mg/dL</option>
                                </select>
                            </div>
                        </div>

                        <!-- HDL Cholesterol (HDLc) -->
                        <div class="input-group">
                            <label for="hdlc-value" class="block text-sm font-medium text-gray-700 mb-1">HDL Cholesterol (HDLc)</label>
                            <div class="flex items-center gap-2">
                                <input type="number" id="hdlc-value" name="hdlc-value" min="0" step="0.01" required
                                       class="flex-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm"
                                       inputmode="decimal">
                                <select id="hdlc-unit" name="hdlc-unit" class="w-24 px-2 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm bg-white text-sm">
                                    <option value="mmol/L">mmol/L</option>
                                    <option value="mg/dL">mg/dL</option>
                                </select>
                            </div>
                        </div>

                        <!-- Triglyceride (TG) -->
                        <div class="input-group">
                            <label for="tg-value" class="block text-sm font-medium text-gray-700 mb-1">Triglyceride (TG)</label>
                            <div class="flex items-center gap-2">
                                <input type="number" id="tg-value" name="tg-value" min="0" step="0.01" required
                                       class="flex-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm"
                                       inputmode="decimal">
                                <select id="tg-unit" name="tg-unit" class="w-24 px-2 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm bg-white text-sm">
                                    <option value="mmol/L">mmol/L</option>
                                    <option value="mg/dL">mg/dL</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <p class="text-xs text-gray-500 italic bg-blue-50 p-2 rounded border border-blue-100">
                        <i class="fa-solid fa-lightbulb mr-1"></i> S·ª≠ d·ª•ng c√¥ng th·ª©c Friedewald. Kh√¥ng ch√≠nh x√°c khi TG > 4.5 mmol/L (400 mg/dL).
                    </p>
                    
                    <!-- Risk Stratification (Repeated for Calc Form) -->
                    <div class="input-group bg-white p-4 rounded-lg border border-gray-200">
                        <label class="block text-sm font-bold text-gray-700 mb-3">
                            <i class="fa-solid fa-heart-pulse mr-2 text-red-500"></i>Ph√¢n t·∫ßng nguy c∆° tim m·∫°ch
                        </label>
                        
                        <div class="space-y-3">
                            <label class="flex items-start cursor-pointer p-2 hover:bg-gray-50 rounded border border-transparent hover:border-gray-200 transition">
                                <div class="flex items-center h-5">
                                    <input type="radio" id="risk-very-high-calc" name="risk-category-calc" value="very-high" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300" checked>
                                </div>
                                <div class="ml-3 text-sm">
                                    <span class="font-bold text-red-600 block">R·∫•t cao</span>
                                </div>
                            </label>
                            <label class="flex items-start cursor-pointer p-2 hover:bg-gray-50 rounded border border-transparent hover:border-gray-200 transition">
                                <div class="flex items-center h-5">
                                    <input type="radio" id="risk-high-calc" name="risk-category-calc" value="high" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                                </div>
                                <div class="ml-3 text-sm">
                                    <span class="font-bold text-orange-500 block">Cao</span>
                                </div>
                            </label>
                            <label class="flex items-start cursor-pointer p-2 hover:bg-gray-50 rounded border border-transparent hover:border-gray-200 transition">
                                <div class="flex items-center h-5">
                                    <input type="radio" id="risk-moderate-calc" name="risk-category-calc" value="moderate" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                                </div>
                                <div class="ml-3 text-sm">
                                    <span class="font-bold text-yellow-600 block">Trung b√¨nh</span>
                                </div>
                            </label>
                            <label class="flex items-start cursor-pointer p-2 hover:bg-gray-50 rounded border border-transparent hover:border-gray-200 transition">
                                <div class="flex items-center h-5">
                                    <input type="radio" id="risk-low-calc" name="risk-category-calc" value="low" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300">
                                </div>
                                <div class="ml-3 text-sm">
                                    <span class="font-bold text-green-600 block">Th·∫•p</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="flex flex-col md:flex-row gap-4 pt-2">
                        <button type="submit" id="calculate-ldlc-full-btn" class="flex-1 bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition duration-300 transform hover:-translate-y-0.5 hover:bg-indigo-700 flex items-center justify-center">
                            <i class="fa-solid fa-calculator mr-2"></i> T√≠nh & Ph√¢n lo·∫°i
                        </button>
                        <button type="button" id="clear-calculate-ldlc-btn" class="flex-1 bg-white text-red-500 border border-red-200 font-bold py-3 px-6 rounded-lg shadow-sm hover:shadow-md transition duration-300 hover:bg-red-50 flex items-center justify-center">
                            <i class="fa-solid fa-trash-can mr-2"></i> X√≥a
                        </button>
                    </div>
                </form>

                <!-- Results -->
                <div id="result-container" class="mt-8 hidden animate-fade-in-up">
                    <div class="bg-indigo-50 border border-indigo-100 rounded-xl p-6 text-center shadow-inner">
                        <h3 class="text-sm font-bold text-gray-500 uppercase tracking-wide mb-3">K·∫øt qu·∫£ LDL Cholesterol</h3>
                        
                        <div id="ldlc-display" class="score-box mb-4 bg-white text-indigo-700">0.00 mmol/L</div>

                        <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm text-left">
                            <p class="text-sm font-bold text-gray-500 mb-1">Khuy·∫øn c√°o:</p>
                            <div id="recommendation-text" class="result-text text-indigo-700 leading-relaxed text-sm md:text-base">
                                Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß c√°c th√¥ng tin ƒë·ªÉ t√≠nh to√°n.
                            </div>
                            <p id="warning-text" class="text-red-500 text-sm italic mt-2 hidden border-t border-gray-100 pt-2"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer id="lien-he" class="bg-gray-800 text-white py-8 text-center rounded-t-lg shadow-inner mt-auto">
        <div class="container mx-auto px-4">
            <p>&copy; 2025 M√°y t√≠nh y h·ªçc. M·ªçi quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
            <p class="mt-2">Li√™n h·ªá: BS. Nguy·ªÖn Duy To√†n - B·ªánh vi·ªán ƒëa khoa L√¢m ƒê·ªìng</p>
            <p>Email: <a href="mailto:toannguyen284@gmail.com" class="text-indigo-400 hover:text-white transition duration-300">toannguyen284@gmail.com</a></p>
            <div class="flex justify-center space-x-4 mt-4">
                <a href="chinh-sach-bao-mat.html" class="text-gray-400 hover:text-white transition duration-300">Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
                <a href="dieu-khoan-dich-vu.html" class="text-gray-400 hover:text-white transition duration-300">ƒêi·ªÅu kho·∫£n d·ªãch v·ª•</a>
            </div>
        </div>
    </footer>

    <!-- MOBILE BOTTOM NAVIGATION -->
    <nav class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.1)] z-50 flex justify-around py-2 pb-safe md:hidden">
        <!-- Trang ch·ªß -->
        <a href="index.html" class="bottom-nav-item">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
            </svg>
            <span>Trang Ch·ªß</span>
        </a>

        <!-- C√¥ng c·ª• (Active) -->
        <a href="cong-cu.html" class="bottom-nav-item active">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
            </svg>
            <span>C√¥ng C·ª•</span>
        </a>

        <!-- Gi·ªõi thi·ªáu -->
        <a href="gioi-thieu.html" class="bottom-nav-item">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
            </svg>
            <span>Gi·ªõi thi·ªáu</span>
        </a>

        <!-- Li√™n h·ªá -->
        <a href="#lien-he" class="bottom-nav-item">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
            </svg>
            <span>Li√™n H·ªá</span>
        </a>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Layout Adjustment ---
            const header = document.querySelector('header');
            const body = document.body;

            function adjustBodyPadding() {
                if (header && getComputedStyle(header).display !== 'none') {
                    const headerHeight = header.offsetHeight;
                    body.style.paddingTop = `${headerHeight}px`;
                } else {
                    body.style.paddingTop = '0px';
                }
            }

            adjustBodyPadding();
            window.addEventListener('resize', adjustBodyPadding);

            // Element selectors
            const directInputBtn = document.getElementById('direct-input-btn');
            const calculateLdlcBtn = document.getElementById('calculate-ldlc-btn');
            const directLdlcForm = document.getElementById('direct-ldlc-form');
            const calculateLdlcForm = document.getElementById('calculate-ldlc-form');
            const resultContainer = document.getElementById('result-container');
            const ldlcDisplay = document.getElementById('ldlc-display');
            const recommendationText = document.getElementById('recommendation-text');
            const warningText = document.getElementById('warning-text');

            const ldlcDirectInput = document.getElementById('ldlc-direct');
            const ldlcUnitDirectSelect = document.getElementById('ldlc-unit-direct');
            const riskCategoryDirectRadios = document.querySelectorAll('input[name="risk-category"]');
            const clearDirectBtn = document.getElementById('clear-direct-btn');

            const tcValueInput = document.getElementById('tc-value');
            const hdlcValueInput = document.getElementById('hdlc-value');
            const tgValueInput = document.getElementById('tg-value');
            const tcUnitSelect = document.getElementById('tc-unit');
            const hdlcUnitSelect = document.getElementById('hdlc-unit');
            const tgUnitSelect = document.getElementById('tg-unit');
            const riskCategoryCalcRadios = document.querySelectorAll('input[name="risk-category-calc"]');
            const clearCalculateLdlcBtn = document.getElementById('clear-calculate-ldlc-btn');


            // Function to reset results display
            function resetResults() {
                ldlcDisplay.textContent = '0.00 mmol/L';
                recommendationText.textContent = 'Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß c√°c th√¥ng tin ƒë·ªÉ t√≠nh to√°n.';
                recommendationText.className = "result-text text-indigo-700 leading-relaxed text-sm md:text-base";
                warningText.classList.add('hidden');
                resultContainer.classList.add('hidden');
            }

            // Function to switch between forms
            function showForm(formToShow) {
                // Common classes for active state
                const activeClasses = ['bg-indigo-600', 'text-white', 'shadow-md'];
                // Common classes for inactive state (using shadow-sm for a subtle shadow)
                const inactiveClasses = ['bg-white', 'text-gray-600', 'shadow-sm', 'hover:bg-gray-50']; 

                if (formToShow === 'direct') {
                    directLdlcForm.classList.remove('hidden');
                    calculateLdlcForm.classList.add('hidden');

                    // Apply active styles to directInputBtn
                    if (directInputBtn) {
                        directInputBtn.classList.add(...activeClasses);
                        directInputBtn.classList.remove(...inactiveClasses);
                    }
                    // Apply inactive styles to calculateLdlcBtn
                    if (calculateLdlcBtn) {
                        calculateLdlcBtn.classList.add(...inactiveClasses);
                        calculateLdlcBtn.classList.remove(...activeClasses);
                    }
                } else {
                    directLdlcForm.classList.add('hidden');
                    calculateLdlcForm.classList.remove('hidden');

                    // Apply inactive styles to directInputBtn
                    if (directInputBtn) {
                        directInputBtn.classList.add(...inactiveClasses);
                        directInputBtn.classList.remove(...activeClasses);
                    }
                    // Apply active styles to calculateLdlcBtn
                    if (calculateLdlcBtn) {
                        calculateLdlcBtn.classList.add(...activeClasses);
                        calculateLdlcBtn.classList.remove(...inactiveClasses);
                    }
                }
                resetResults();
            }

            // ESC/EAS Guidelines for LDLc targets (in mmol/L)
            const ldlcTargets = {
                'very-high': { target: 1.4, reduction: 'gi·∫£m √≠t nh·∫•t 50%' },
                'high': { target: 1.8, reduction: 'gi·∫£m √≠t nh·∫•t 50%' },
                'moderate': { target: 2.6 },
                'low': { target: 3.0 }
            };

            // Function to get selected risk category
            function getSelectedRiskCategory(radioGroup) {
                for (const radio of radioGroup) {
                    if (radio.checked) {
                        return radio.value;
                    }
                }
                return null;
            }

            // Function to determine recommendation
            function getRecommendation(ldlcValue, riskCategory, unit) {
                let ldlcMmolL = ldlcValue;
                if (unit === 'mg/dL') {
                    ldlcMmolL = ldlcValue / 38.6; // Convert mg/dL to mmol/L
                }

                const targetInfo = ldlcTargets[riskCategory];
                if (!targetInfo) {
                    return { text: "Kh√¥ng x√°c ƒë·ªãnh ph√¢n t·∫ßng nguy c∆°.", type: "error" };
                }

                const targetValue = targetInfo.target;
                let recommendationText = "";
                let textColor = "";

                if (ldlcMmolL < targetValue) {
                    recommendationText = `üéâ LDLc c·ªßa b·ªánh nh√¢n (<strong>${ldlcMmolL.toFixed(2)} mmol/L</strong>) ƒë√£ ƒë·∫°t m·ª•c ti√™u khuy·∫øn c√°o cho ph√¢n t·∫ßng nguy c∆° <strong>${riskCategory === 'very-high' ? 'R·∫•t cao' : riskCategory === 'high' ? 'Cao' : riskCategory === 'moderate' ? 'Trung b√¨nh' : 'Th·∫•p'}</strong> (< ${targetValue} mmol/L). Duy tr√¨ l·ªëi s·ªëng v√† theo d√µi ƒë·ªãnh k·ª≥.`;
                    textColor = "text-green-700";
                } else {
                    switch (riskCategory) {
                        case 'very-high':
                            recommendationText = `‚ö†Ô∏è LDLc c·ªßa b·ªánh nh√¢n (<strong>${ldlcMmolL.toFixed(2)} mmol/L</strong>) ch∆∞a ƒë·∫°t m·ª•c ti√™u (< ${targetValue} mmol/L v√† gi·∫£m √≠t nh·∫•t 50%). C·∫ßn kh·∫©n tr∆∞∆°ng xem x√©t <strong>tƒÉng c∆∞·ªùng ƒëi·ªÅu tr·ªã</strong>: li·ªáu ph√°p statin li·ªÅu cao v√†/ho·∫∑c c√≥ th·ªÉ c√¢n nh·∫Øc th√™m Ezetimibe ho·∫∑c PCSK9i n·∫øu kh√¥ng ƒë·∫°t m·ª•c ti√™u.`;
                            textColor = "text-red-600";
                            break;
                        case 'high':
                            recommendationText = `‚ö†Ô∏è LDLc c·ªßa b·ªánh nh√¢n (<strong>${ldlcMmolL.toFixed(2)} mmol/L</strong>) ch∆∞a ƒë·∫°t m·ª•c ti√™u (< ${targetValue} mmol/L v√† gi·∫£m √≠t nh·∫•t 50%). Xem x√©t <strong>li·ªáu ph√°p statin ph√π h·ª£p</strong> v√† <strong>thay ƒë·ªïi l·ªëi s·ªëng t√≠ch c·ª±c</strong>. C√≥ th·ªÉ c√¢n nh·∫Øc th√™m Ezetimibe n·∫øu kh√¥ng ƒë·∫°t m·ª•c ti√™u.`;
                            textColor = "text-orange-500";
                            break;
                        case 'moderate':
                            recommendationText = `‚ö†Ô∏è LDLc c·ªßa b·ªánh nh√¢n (<strong>${ldlcMmolL.toFixed(2)} mmol/L</strong>) ch∆∞a ƒë·∫°t m·ª•c ti√™u (< ${targetValue} mmol/L). T·∫≠p trung v√†o <strong>thay ƒë·ªïi l·ªëi s·ªëng l√†nh m·∫°nh</strong>. N·∫øu kh√¥ng ƒë·∫°t, c√¢n nh·∫Øc <strong>li·ªáu ph√°p statin</strong> v·ªõi m·ª•c ti√™u ƒë·∫°t LDLc < ${targetValue} mmol/L.`;
                            textColor = "text-yellow-600";
                            break;
                        case 'low':
                            recommendationText = `‚ö†Ô∏è LDLc c·ªßa b·ªánh nh√¢n (<strong>${ldlcMmolL.toFixed(2)} mmol/L</strong>) ch∆∞a ƒë·∫°t m·ª•c ti√™u (< ${targetValue} mmol/L). Khuy·∫øn kh√≠ch <strong>duy tr√¨ l·ªëi s·ªëng l√†nh m·∫°nh</strong>. Th∆∞·ªùng kh√¥ng c·∫ßn can thi·ªáp d∆∞·ª£c l√Ω tr·ª´ khi c√≥ y·∫øu t·ªë nguy c∆° m·ªõi ph√°t sinh ho·∫∑c t√¨nh tr·∫°ng l√¢m s√†ng thay ƒë·ªïi.`;
                            textColor = "text-indigo-700";
                            break;
                        default:
                            recommendationText = "Vui l√≤ng ki·ªÉm tra l·∫°i ph√¢n t·∫ßng nguy c∆°.";
                            textColor = "text-gray-700";
                    }
                }
                return { text: recommendationText, type: "success", color: textColor };
            }

            // Handle Direct LDLc Input Form submission
            directLdlcForm.addEventListener('submit', function(event) {
                event.preventDefault();

                const ldlcValue = parseFloat(ldlcDirectInput.value);
                const ldlcUnit = ldlcUnitDirectSelect.value;
                const riskCategory = getSelectedRiskCategory(riskCategoryDirectRadios);

                if (isNaN(ldlcValue) || ldlcValue < 0 || !riskCategory) {
                    recommendationText.textContent = 'Vui l√≤ng nh·∫≠p gi√° tr·ªã LDLc h·ª£p l·ªá v√† ch·ªçn ph√¢n t·∫ßng nguy c∆°.';
                    recommendationText.className = "result-text text-red-500";
                    warningText.classList.add('hidden');
                    ldlcDisplay.textContent = '0.00 ' + ldlcUnit; // Display original unit
                    resultContainer.classList.remove('hidden');
                    return;
                }

                ldlcDisplay.textContent = `${ldlcValue.toFixed(2)} ${ldlcUnit}`;
                const result = getRecommendation(ldlcValue, riskCategory, ldlcUnit);
                recommendationText.innerHTML = result.text; // Use innerHTML to allow bold tags
                recommendationText.className = `result-text ${result.color} leading-relaxed text-sm md:text-base`;
                warningText.classList.add('hidden'); // Hide any previous warnings

                resultContainer.classList.remove('hidden');
                
                // Scroll to result on mobile
                const headerHeight = document.querySelector('header')?.offsetHeight || 0;
                const targetPos = resultContainer.getBoundingClientRect().top + window.pageYOffset - headerHeight - 20;
                window.scrollTo({ top: targetPos, behavior: 'smooth' });
            });

            // Handle Calculate LDLc Form submission
            calculateLdlcForm.addEventListener('submit', function(event) {
                event.preventDefault();

                const tcValue = parseFloat(tcValueInput.value);
                const hdlcValue = parseFloat(hdlcValueInput.value);
                const tgValue = parseFloat(tgValueInput.value);
                
                const tcUnit = tcUnitSelect.value;
                const hdlcUnit = hdlcUnitSelect.value;
                const tgUnit = tgUnitSelect.value;

                // Validate that all units are the same for calculation
                if (tcUnit !== hdlcUnit || hdlcUnit !== tgUnit) {
                    recommendationText.textContent = 'Vui l√≤ng ch·ªçn c√πng m·ªôt ƒë∆°n v·ªã cho t·∫•t c·∫£ c√°c ch·ªâ s·ªë lipid (TC, HDLc, TG).';
                    recommendationText.className = "result-text text-red-500";
                    warningText.classList.add('hidden');
                    ldlcDisplay.textContent = '0.00 mmol/L'; // Default display
                    resultContainer.classList.remove('hidden');
                    return;
                }

                const lipidUnit = tcUnit; // Use any of them as they are guaranteed to be same
                const riskCategory = getSelectedRiskCategory(riskCategoryCalcRadios);

                if (isNaN(tcValue) || isNaN(hdlcValue) || isNaN(tgValue) || tcValue < 0 || hdlcValue < 0 || tgValue < 0 || !riskCategory) {
                    recommendationText.textContent = 'Vui l√≤ng nh·∫≠p c√°c gi√° tr·ªã lipid h·ª£p l·ªá v√† ch·ªçn ph√¢n t·∫ßng nguy c∆°.';
                    recommendationText.className = "result-text text-red-500";
                    warningText.classList.add('hidden');
                    ldlcDisplay.textContent = '0.00 ' + lipidUnit; // Display original unit
                    resultContainer.classList.remove('hidden');
                    return;
                }

                let calculatedLdlc;
                let tgThresholdExceeded = false;
                warningText.classList.add('hidden'); // Hide previous warnings

                if (lipidUnit === 'mmol/L') {
                    if (tgValue > 4.5) {
                        tgThresholdExceeded = true;
                        warningText.textContent = '‚ö†Ô∏è Triglyceride > 4.5 mmol/L. C√¥ng th·ª©c Friedewald kh√¥ng ƒë√°ng tin c·∫≠y. LDLc c√≥ th·ªÉ kh√¥ng ch√≠nh x√°c.';
                        warningText.classList.remove('hidden');
                    }
                    calculatedLdlc = tcValue - hdlcValue - (tgValue / 2.2);
                } else { // mg/dL
                    if (tgValue > 400) {
                        tgThresholdExceeded = true;
                        warningText.textContent = '‚ö†Ô∏è Triglyceride > 400 mg/dL. C√¥ng th·ª©c Friedewald kh√¥ng ƒë√°ng tin c·∫≠y. LDLc c√≥ th·ªÉ kh√¥ng ch√≠nh x√°c.';
                        warningText.classList.remove('hidden');
                    }
                    calculatedLdlc = tcValue - hdlcValue - (tgValue / 5);
                }

                if (calculatedLdlc < 0) {
                    calculatedLdlc = 0; // LDLc cannot be negative
                    warningText.textContent = 'Gi√° tr·ªã LDLc t√≠nh to√°n ra √¢m. Vui l√≤ng ki·ªÉm tra l·∫°i c√°c ch·ªâ s·ªë nh·∫≠p v√†o.';
                    warningText.classList.remove('hidden');
                }

                ldlcDisplay.textContent = `${calculatedLdlc.toFixed(2)} ${lipidUnit}`;
                const result = getRecommendation(calculatedLdlc, riskCategory, lipidUnit);
                recommendationText.innerHTML = result.text; // Use innerHTML to allow bold tags
                recommendationText.className = `result-text ${result.color} leading-relaxed text-sm md:text-base`;

                resultContainer.classList.remove('hidden');
                
                // Scroll to result on mobile
                const headerHeight = document.querySelector('header')?.offsetHeight || 0;
                const targetPos = resultContainer.getBoundingClientRect().top + window.pageYOffset - headerHeight - 20;
                window.scrollTo({ top: targetPos, behavior: 'smooth' });
            });

            // Clear buttons functionality
            clearDirectBtn.addEventListener('click', function() {
                directLdlcForm.reset();
                resetResults();
                ldlcUnitDirectSelect.value = 'mmol/L'; // Reset unit to default
                riskCategoryDirectRadios[0].checked = true; // Default to Very High
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            clearCalculateLdlcBtn.addEventListener('click', function() {
                calculateLdlcForm.reset();
                resetResults();
                tcUnitSelect.value = 'mmol/L'; // Reset unit to default
                hdlcUnitSelect.value = 'mmol/L';
                tgUnitSelect.value = 'mmol/L';
                riskCategoryCalcRadios[0].checked = true; // Default to Very High
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // Attach event listeners to toggle buttons
            if (directInputBtn) {
                directInputBtn.addEventListener('click', () => {
                    showForm('direct');
                });
            }

            if (calculateLdlcBtn) {
                calculateLdlcBtn.addEventListener('click', () => {
                    showForm('calculate');
                });
            }

            // Initialize to show direct input form
            showForm('direct');
        });
    </script>
</body>
</html>