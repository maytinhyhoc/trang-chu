<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Danh sách công cụ - Máy tính Y học</title>
    
    <!-- TAILWIND CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- GOOGLE FONTS -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- ICONS & PWA -->
    <meta name="theme-color" content="#0d9488">
    <link rel="apple-touch-icon" href="logo.png">
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="manifest" href="/manifest.json">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            -webkit-tap-highlight-color: transparent;
            /* Ngăn bôi đen văn bản bằng CSS */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            touch-action: pan-x pan-y;
        }
        /* Cho phép nhập liệu trong ô input */
        input {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
    </style>
</head>
<body class="text-gray-800 pb-20 md:pb-0 overflow-x-hidden">

    <!-- ============================================ -->
    <!-- DESKTOP HEADER -->
    <!-- ============================================ -->
    <header class="hidden md:flex fixed top-0 w-full bg-white shadow-sm z-50 h-16 items-center px-8 justify-between">
        <div class="flex items-center gap-3">
            <img src="logo.png" alt="Logo" class="w-10 h-10 object-contain" onerror="this.src='https://placehold.co/40x40?text=Logo'">
            <h1 class="text-xl md:text-3xl font-bold text-blue-600">Máy Tính Y Học</h1>
        </div>
        <nav class="flex gap-8 text-sm md:text-lg font-medium text-gray-600">
            <a href="index.html" class="hover:text-teal-600 transition">Trang chủ</a>
            <a href="cong-cu.html" class="text-teal-600 font-bold border-b-2 border-teal-600">Công cụ</a>
            <a href="#" onclick="openDrawer(event)" class="hover:text-teal-600 transition">Khác</a>
        </nav>
    </header>

    <!-- ============================================ -->
    <!-- MAIN CONTENT -->
    <!-- ============================================ -->
    <main class="md:pt-24 p-4 max-w-5xl mx-auto min-h-screen">
        
        <!-- Mobile Header (Simplified) -->
        <div class="md:hidden pt-2 pb-4 flex items-center justify-between">
            <h1 class="text-2xl font-bold text-blue-600">Tất cả công cụ</h1>
            <div class="flex items-center gap-2">
                <button onclick="window.location.reload()" class="w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 text-gray-600 active:scale-95 transition">
                    <i class="fa-solid fa-rotate-right"></i>
                </button>
                <a href="index.html" class="w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 text-gray-600 active:scale-95 transition">
                    <i class="fa-solid fa-arrow-left"></i>
                </a>
            </div>
        </div>
        
        <!-- Search Bar -->
        <div class="relative mb-6 sticky top-0 md:top-20 z-40">
            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                <i class="fa-solid fa-magnifying-glass text-gray-400"></i>
            </div>
            <input type="text" id="search-input" onkeyup="filterTools()" placeholder="Tìm nhanh (VD: bỏng, gcs, liều, lọc máu...)" 
                class="w-full pl-11 pr-4 py-3 rounded-xl border-none shadow-md bg-white focus:ring-2 focus:ring-teal-500 focus:outline-none text-gray-700 text-sm md:text-base">
        </div>

        <!-- ==================== CẤP CỨU & HỒI SỨC ==================== -->
        <div class="mb-8 tool-category">
            <h3 class="font-bold text-gray-800 text-lg md:text-xl mb-4 flex items-center border-l-4 border-red-500 pl-3">
                Cấp cứu & Hồi sức
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                
                <!-- NEW: BURN CALCULATOR (Priority placement) -->
                <div onclick="useTool('burn', 'Diện tích bỏng & Bù dịch', 'fa-fire', 'orange', 'dien-tich-bong.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-orange-100 flex items-center justify-center text-orange-600 text-xl"><i class="fa-solid fa-fire"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Diện tích bỏng & Bù dịch</h4><p class="text-xs text-gray-500">Parkland & Quy tắc số 9</p></div>
                </div>

                <div onclick="useTool('glasgow', 'Thang điểm Glasgow (GCS)', 'fa-brain', 'red', 'glasgow.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-red-100 flex items-center justify-center text-red-600 text-xl"><i class="fa-solid fa-brain"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm Glasgow (GCS)</h4><p class="text-xs text-gray-500">Đánh giá tri giác</p></div>
                </div>

                <div onclick="useTool('sofa', 'Thang điểm SOFA', 'fa-bed-pulse', 'red', 'sofa.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-red-100 flex items-center justify-center text-red-600 text-xl"><i class="fa-solid fa-bed-pulse"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm SOFA</h4><p class="text-xs text-gray-500">Đánh giá suy tạng (Sepsis)</p></div>
                </div>

                <div onclick="useTool('apache2', 'Thang điểm APACHE II', 'fa-notes-medical', 'red', 'apache-ii.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-red-100 flex items-center justify-center text-red-600 text-xl"><i class="fa-solid fa-notes-medical"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm APACHE II</h4><p class="text-xs text-gray-500">Tiên lượng tử vong tại ICU</p></div>
                </div>

                <div onclick="useTool('news2', 'Thang điểm NEWS2', 'fa-tower-broadcast', 'red', 'news2.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-red-100 flex items-center justify-center text-red-600 text-xl"><i class="fa-solid fa-tower-broadcast"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm NEWS2</h4><p class="text-xs text-gray-500">Cảnh báo sớm bệnh nặng</p></div>
                </div>

                <div onclick="useTool('pbw-vt', 'Cân nặng lý tưởng & Vt', 'fa-lungs-virus', 'red', 'pbw-vt.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-red-100 flex items-center justify-center text-red-600 text-xl"><i class="fa-solid fa-lungs-virus"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Cân nặng lý tưởng & Vt</h4><p class="text-xs text-gray-500">Cài đặt máy thở ARDSnet</p></div>
                </div>

                <div onclick="useTool('stress-ulcer', 'Dự phòng loét Stress', 'fa-shield-halved', 'red', 'loet-do-stress.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-red-100 flex items-center justify-center text-red-600 text-xl"><i class="fa-solid fa-shield-halved"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Dự phòng loét Stress</h4><p class="text-xs text-gray-500">Chỉ định dùng PPI (ICU)</p></div>
                </div>

                <div onclick="useTool('abg', 'Phân tích Khí máu (ABG)', 'fa-lungs', 'rose', 'phan-tich-khi-mau.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-rose-100 flex items-center justify-center text-rose-600 text-xl"><i class="fa-solid fa-lungs"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Phân tích Khí máu (ABG)</h4><p class="text-xs text-gray-500">Toan kiềm & Oxy hóa máu</p></div>
                </div>

                <div onclick="useTool('fena', 'Phân suất thải Natri (FeNa)', 'fa-flask', 'rose', 'fena.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-rose-100 flex items-center justify-center text-rose-600 text-xl"><i class="fa-solid fa-flask"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Phân suất thải Natri (FeNa)</h4><p class="text-xs text-gray-500">Phân biệt nguyên nhân suy thận</p></div>
                </div>

                <div onclick="useTool('atropin', 'Thang điểm Atropin', 'fa-biohazard', 'rose', 'bang-diem-atropin.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-rose-100 flex items-center justify-center text-rose-600 text-xl"><i class="fa-solid fa-biohazard"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm Atropin</h4><p class="text-xs text-gray-500">Theo dõi ngộ độc lân hữu cơ</p></div>
                </div>

                <div onclick="useTool('bps', 'Thang điểm đau BPS', 'fa-face-grimace', 'rose', 'thang-dau-bps.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-rose-100 flex items-center justify-center text-rose-600 text-xl"><i class="fa-solid fa-face-grimace"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm đau BPS</h4><p class="text-xs text-gray-500">Đánh giá đau (Bệnh nhân thở máy)</p></div>
                </div>
            </div>
        </div>

        <!-- ==================== TIM MẠCH & HUYẾT HỌC ==================== -->
        <div class="mb-8 tool-category">
            <h3 class="font-bold text-gray-800 text-lg md:text-xl mb-4 flex items-center border-l-4 border-pink-500 pl-3">
                Tim mạch & Huyết học
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                
                <div onclick="useTool('chads', 'Thang điểm CHA₂DS₂-VASc', 'fa-heart-crack', 'pink', 'chads-vasc.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-pink-100 flex items-center justify-center text-pink-600 text-xl"><i class="fa-solid fa-heart-crack"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm CHA₂DS₂-VASc</h4><p class="text-xs text-gray-500">Nguy cơ đột quỵ rung nhĩ</p></div>
                </div>

                <div onclick="useTool('hasbled', 'Thang điểm HAS-BLED', 'fa-droplet-slash', 'pink', 'hasbled.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-pink-100 flex items-center justify-center text-pink-600 text-xl"><i class="fa-solid fa-droplet-slash"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm HAS-BLED</h4><p class="text-xs text-gray-500">Nguy cơ chảy máu</p></div>
                </div>

                <div onclick="useTool('padua', 'Thang điểm PADUA', 'fa-user-shield', 'pink', 'padua.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-pink-100 flex items-center justify-center text-pink-600 text-xl"><i class="fa-solid fa-user-shield"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm PADUA</h4><p class="text-xs text-gray-500">Nguy cơ huyết khối tĩnh mạch</p></div>
                </div>

                <div onclick="useTool('improve', 'Thang điểm IMPROVE', 'fa-file-medical', 'pink', 'improve.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-pink-100 flex items-center justify-center text-pink-600 text-xl"><i class="fa-solid fa-file-medical"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm IMPROVE</h4><p class="text-xs text-gray-500">Nguy cơ VTE & Chảy máu</p></div>
                </div>

                <div onclick="useTool('timi', 'Thang điểm TIMI', 'fa-heart-pulse', 'pink', 'timi.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-pink-100 flex items-center justify-center text-pink-600 text-xl"><i class="fa-solid fa-heart-pulse"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm TIMI</h4><p class="text-xs text-gray-500">Tiên lượng NMCT cấp</p></div>
                </div>

                <div onclick="useTool('ldlc', 'Phân loại LDLc (ESC/EAS)', 'fa-chart-line', 'pink', 'ldlc.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-pink-100 flex items-center justify-center text-pink-600 text-xl"><i class="fa-solid fa-chart-line"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Phân loại LDLc (ESC/EAS)</h4><p class="text-xs text-gray-500">Mục tiêu điều trị mỡ máu</p></div>
                </div>

                <div onclick="useTool('orbit', 'Thang điểm ORBIT', 'fa-circle-notch', 'pink', 'orbit.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-pink-100 flex items-center justify-center text-pink-600 text-xl"><i class="fa-solid fa-circle-notch"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm ORBIT</h4><p class="text-xs text-gray-500">Nguy cơ chảy máu (Rung nhĩ)</p></div>
                </div>

                <div onclick="useTool('nihss', 'Thang điểm NIHSS', 'fa-user-injured', 'purple', 'nihss.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 text-xl"><i class="fa-solid fa-user-injured"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm NIHSS</h4><p class="text-xs text-gray-500">Đánh giá mức độ đột quỵ não</p></div>
                </div>

                <div onclick="useTool('4t', 'Thang điểm 4T', 'fa-syringe', 'purple', '4tscore.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 text-xl"><i class="fa-solid fa-syringe"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm 4T</h4><p class="text-xs text-gray-500">Sàng lọc HIT (Giảm tiểu cầu)</p></div>
                </div>

                <div onclick="useTool('isth', 'Thang điểm ISTH DIC', 'fa-vial', 'purple', 'isth-dic.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 text-xl"><i class="fa-solid fa-vial"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thang điểm ISTH DIC</h4><p class="text-xs text-gray-500">Chẩn đoán DIC</p></div>
                </div>

                <div onclick="useTool('tpe', 'Thay huyết tương (TPE)', 'fa-hand-holding-droplet', 'purple', 'tpe.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600 text-xl"><i class="fa-solid fa-hand-holding-droplet"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Thay huyết tương (TPE)</h4><p class="text-xs text-gray-500">Tính thể tích huyết tương</p></div>
                </div>
            </div>
        </div>

        <!-- ==================== DƯỢC & ĐIỀU DƯỠNG ==================== -->
        <div class="mb-8 tool-category">
            <h3 class="font-bold text-gray-800 text-lg md:text-xl mb-4 flex items-center border-l-4 border-blue-500 pl-3">
                Dược & Điều dưỡng
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                
                <div onclick="useTool('corticoid', 'Chuyển đổi liều Corticoid', 'fa-pills', 'blue', 'doilieu-corticoid.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 text-xl"><i class="fa-solid fa-pills"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Chuyển đổi liều Corticoid</h4><p class="text-xs text-gray-500">So sánh hiệu lực thuốc</p></div>
                </div>

                <div onclick="useTool('antibiotic', 'Kháng sinh & Virus', 'fa-capsules', 'blue', 'khang-sinh.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 text-xl"><i class="fa-solid fa-capsules"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Kháng sinh & Virus</h4><p class="text-xs text-gray-500">Tra cứu liều dùng</p></div>
                </div>

                <div onclick="useTool('drug-lookup', 'Tra cứu thuốc & VTYT', 'fa-book-medical', 'blue', 'danh-muc-thuoc.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600 text-xl"><i class="fa-solid fa-book-medical"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Tra cứu thuốc & VTYT</h4><p class="text-xs text-gray-500">Danh mục thuốc & Vật tư</p></div>
                </div>

                <div onclick="useTool('drip-rate', 'Đếm giọt dịch truyền', 'fa-droplet', 'cyan', 'dem-giot-dich-truyen.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-cyan-100 flex items-center justify-center text-cyan-600 text-xl"><i class="fa-solid fa-droplet"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Đếm giọt dịch truyền</h4><p class="text-xs text-gray-500">Tính số giọt/phút</p></div>
                </div>

                <div onclick="useTool('infusion-time', 'Tính thời gian truyền dịch', 'fa-clock', 'cyan', 'tinh-thoi-gian-truyen-dich.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-cyan-100 flex items-center justify-center text-cyan-600 text-xl"><i class="fa-regular fa-clock"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Tính thời gian truyền dịch</h4><p class="text-xs text-gray-500">Dự báo thời gian hết dịch</p></div>
                </div>

                <div onclick="useTool('infusion-rate', 'Tính tốc độ truyền thuốc', 'fa-gauge-high', 'cyan', 'tinh-toc-do-truyen.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-cyan-100 flex items-center justify-center text-cyan-600 text-xl"><i class="fa-solid fa-gauge-high"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Tính tốc độ truyền thuốc</h4><p class="text-xs text-gray-500">ml/h hoặc mcg/kg/phút</p></div>
                </div>

            </div>
        </div>

        <!-- ==================== TỔNG QUÁT & DINH DƯỠNG ==================== -->
        <div class="mb-8 tool-category">
            <h3 class="font-bold text-gray-800 text-lg md:text-xl mb-4 flex items-center border-l-4 border-green-500 pl-3">
                Tổng quát & Dinh dưỡng
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                
                <div onclick="useTool('bmi', 'Chỉ số khối (BMI)', 'fa-weight-scale', 'green', 'bmi.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center text-green-600 text-xl"><i class="fa-solid fa-weight-scale"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Chỉ số khối (BMI)</h4><p class="text-xs text-gray-500">Đánh giá thể trạng cơ thể</p></div>
                </div>

                <div onclick="useTool('egfr', 'Độ lọc cầu thận (eGFR)', 'fa-filter', 'green', 'do-loc-cau-than.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center text-green-600 text-xl"><i class="fa-solid fa-filter"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Độ lọc cầu thận (eGFR)</h4><p class="text-xs text-gray-500">Đánh giá chức năng thận</p></div>
                </div>

                <div onclick="useTool('diet', 'Tra cứu chế độ ăn', 'fa-apple-whole', 'green', 'tra-cuu-che-do-an.html')" class="tool-item bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition cursor-pointer flex items-center gap-4 active:scale-95 duration-100">
                    <div class="w-12 h-12 rounded-lg bg-green-100 flex items-center justify-center text-green-600 text-xl"><i class="fa-solid fa-apple-whole"></i></div>
                    <div><h4 class="font-semibold text-gray-800">Tra cứu chế độ ăn</h4><p class="text-xs text-gray-500">Dinh dưỡng cho bệnh lý</p></div>
                </div>

            </div>
        </div>

    </main>

    <!-- ============================================ -->
    <!-- SIDE DRAWER (Menu Khác - Copy từ Index) -->
    <!-- ============================================ -->
    <div id="drawer-overlay" onclick="closeDrawer()" class="fixed inset-0 bg-black/50 z-[60] hidden transition-opacity opacity-0"></div>
    <div id="drawer-menu" class="fixed top-0 right-0 h-full w-72 bg-white shadow-2xl z-[70] transform transition-transform translate-x-full duration-300 ease-in-out flex flex-col">
        <div class="p-5 flex justify-between items-center border-b border-gray-100 bg-gray-50">
            <h2 class="font-bold text-xl text-gray-800">Menu</h2>
            <button onclick="closeDrawer()" class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-200 text-gray-500 transition"><i class="fa-solid fa-xmark text-lg"></i></button>
        </div>
        <div class="p-4 flex flex-col gap-2 overflow-y-auto flex-1">
            <a href="gioi-thieu.html" class="flex items-center gap-4 p-3 hover:bg-teal-50 hover:text-teal-600 rounded-xl transition group text-gray-700">
                <div class="w-8 h-8 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 group-hover:scale-110 transition"><i class="fa-solid fa-circle-info"></i></div>
                <span class="font-medium">Giới thiệu</span>
            </a>
            <a href="lien-he.html" class="flex items-center gap-4 p-3 hover:bg-green-50 hover:text-green-600 rounded-xl transition group text-gray-700">
                <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 group-hover:scale-110 transition"><i class="fa-solid fa-envelope"></i></div>
                <span class="font-medium">Liên hệ</span>
            </a>
            <a href="dieu-khoan-dich-vu.html" class="flex items-center gap-4 p-3 hover:bg-blue-50 hover:text-blue-600 rounded-xl transition group text-gray-700">
                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 group-hover:scale-110 transition"><i class="fa-solid fa-file-contract"></i></div>
                <span class="font-medium">Điều khoản</span>
            </a>
            <a href="chinh-sach-bao-mat.html" class="flex items-center gap-4 p-3 hover:bg-purple-50 hover:text-purple-600 rounded-xl transition group text-gray-700">
                <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 group-hover:scale-110 transition"><i class="fa-solid fa-shield-halved"></i></div>
                <span class="font-medium">Chính sách</span>
            </a>
            <div class="my-2 border-t border-gray-100"></div>
            <a href="ung-ho.html" class="flex items-center gap-4 p-3 hover:bg-rose-50 hover:text-rose-600 rounded-xl transition group text-gray-700">
                <div class="w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center text-rose-600 group-hover:scale-110 transition"><i class="fa-solid fa-heart"></i></div>
                <span class="font-medium">Ủng hộ</span>
            </a>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- MOBILE BOTTOM NAVIGATION -->
    <!-- ============================================ -->
    <nav class="md:hidden fixed bottom-0 left-0 z-50 w-full h-16 bg-white border-t border-gray-100 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
        <div class="grid h-full max-w-lg grid-cols-3 mx-auto font-medium">
            <a href="index.html" class="nav-item text-gray-500 inline-flex flex-col items-center justify-center px-5 group hover:text-teal-600">
                <i class="fa-solid fa-house text-xl mb-1 group-hover:text-teal-600"></i>
                <span class="text-[10px] group-hover:text-teal-600">Trang chủ</span>
            </a>
            
            <a href="#" class="nav-item active text-teal-600 inline-flex flex-col items-center justify-center px-5 group">
                <i class="fa-solid fa-calculator text-xl mb-1"></i>
                <span class="text-[10px]">Công cụ</span>
            </a>
            
            <button type="button" onclick="openDrawer(event)" class="nav-item text-gray-500 inline-flex flex-col items-center justify-center px-5 group hover:text-teal-600">
                <i class="fa-solid fa-bars text-xl mb-1 group-hover:text-teal-600"></i>
                <span class="text-[10px] group-hover:text-teal-600">Khác</span>
            </button>
        </div>
    </nav>

    <!-- ============================================ -->
    <!-- SCRIPTS -->
    <!-- ============================================ -->
    <script>
        // --- LOGIC LƯU LỊCH SỬ (Đồng bộ với Index) ---
        function useTool(id, name, icon, color, url) {
            let recentTools = JSON.parse(localStorage.getItem('recentTools')) || [];
            
            // Xóa nếu trùng để đưa lên đầu
            recentTools = recentTools.filter(tool => tool.id !== id);
            
            // Thêm mới lên đầu
            recentTools.unshift({
                id: id,
                name: name,
                icon: icon,
                color: color,
                url: url,
                timestamp: new Date().getTime()
            });

            // Giới hạn 5 công cụ
            if (recentTools.length > 5) {
                recentTools.pop();
            }

            // Lưu vào localStorage
            localStorage.setItem('recentTools', JSON.stringify(recentTools));

            // Chuyển trang
            if (url) {
                window.location.href = url;
            } else {
                alert('Trang này chưa sẵn sàng!');
            }
        }

        // --- HÀM LOẠI BỎ DẤU TIẾNG VIỆT ---
        function removeVietnameseTones(str) {
            str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"); 
            str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"); 
            str = str.replace(/ì|í|ị|ỉ|ĩ/g,"i"); 
            str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"); 
            str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"); 
            str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"); 
            str = str.replace(/đ/g,"d");
            str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, "A");
            str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, "E");
            str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, "I");
            str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, "O");
            str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, "U");
            str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, "Y");
            str = str.replace(/Đ/g, "D");
            // Một số bộ gõ kết hợp
            str = str.replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g, ""); 
            str = str.replace(/\u02C6|\u0306|\u031B/g, ""); 
            return str;
        }

        // --- TÌM KIẾM CÔNG CỤ (KHÔNG DẤU) ---
        function filterTools() {
            const input = document.getElementById('search-input');
            const filter = removeVietnameseTones(input.value.toLowerCase());
            const items = document.querySelectorAll('.tool-item');
            const categories = document.querySelectorAll('.tool-category');

            items.forEach(item => {
                const text = item.textContent || item.innerText;
                const normalizedText = removeVietnameseTones(text.toLowerCase());
                
                // Tìm kiếm không dấu
                if (normalizedText.includes(filter)) {
                    item.style.display = "flex";
                } else {
                    item.style.display = "none";
                }
            });

            // Ẩn tiêu đề nhóm nếu không còn công cụ nào bên trong
            categories.forEach(cat => {
                const visibleItems = cat.querySelectorAll('.tool-item[style="display: flex;"]');
                if (visibleItems.length === 0 && filter !== "") {
                    cat.style.display = "none";
                } else {
                    cat.style.display = "block";
                }
            });
        }

        // --- DRAWER MENU LOGIC ---
        function openDrawer(e) {
            if(e) e.preventDefault();
            const drawer = document.getElementById('drawer-menu');
            const overlay = document.getElementById('drawer-overlay');
            overlay.classList.remove('hidden');
            setTimeout(() => overlay.classList.remove('opacity-0'), 10);
            drawer.classList.remove('translate-x-full');
            document.body.style.overflow = 'hidden';
        }

        function closeDrawer() {
            const drawer = document.getElementById('drawer-menu');
            const overlay = document.getElementById('drawer-overlay');
            drawer.classList.add('translate-x-full');
            overlay.classList.add('opacity-0');
            setTimeout(() => {
                overlay.classList.add('hidden');
                document.body.style.overflow = '';
            }, 300);
        }

        // ============================================
        // TÍNH NĂNG BẢO MẬT (CHẶN SAO CHÉP)
        // ============================================

        // 1. Chặn menu chuột phải (Context Menu)
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        // 2. Chặn các phím tắt (Ctrl+C, Ctrl+A, Ctrl+U, F12)
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && (
                e.key === 'c' || e.key === 'C' || 
                e.key === 'a' || e.key === 'A' || 
                e.key === 'u' || e.key === 'U' ||
                e.key === 's' || e.key === 'S'
            )) {
                e.preventDefault();
                return false;
            }

            if (e.key === 'F12' || e.keyCode === 123) {
                e.preventDefault();
                return false;
            }
        });

    </script>
</body>
</html>